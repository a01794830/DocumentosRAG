2025-02-20 11:54:54 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 11:54:57 [INFO] __main__: Entrando a la página Home
2025-02-20 12:00:16 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:00:52 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:05:15 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:05:16 [INFO] __main__: Entrando a la página Home
2025-02-20 12:21:32 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:21:53 [INFO] __main__: Entrando a Home
2025-02-20 12:21:54 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:21:54 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:22:10 [INFO] __main__: Entrando a Home
2025-02-20 12:34:59 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:35:01 [INFO] __main__: Entrando a Home
2025-02-20 12:39:01 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:39:14 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:39:17 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:39:18 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:39:19 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:39:49 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:48:34 [INFO] __main__: Iniciando la app principal app.py
2025-02-20 12:48:46 [INFO] pinecone_plugin_interface.logging: Discovering subpackages in _NamespacePath(['/Users/miguelmauriolamedina/Desktop/DocumentosRAG/Caso_Resumen_Lecturas/venv/lib/python3.11/site-packages/pinecone_plugins'])
2025-02-20 12:48:46 [INFO] pinecone_plugin_interface.logging: Looking for plugins in pinecone_plugins.inference
2025-02-20 12:48:46 [INFO] pinecone_plugin_interface.logging: Installing plugin inference into Pinecone
2025-02-20 12:48:46 [INFO] __main__: Entrando a CargarDocumentos
2025-02-20 12:49:03 [INFO] __main__: Entrando a CargarDocumentos
2025-02-20 12:49:06 [INFO] __main__: Entrando a CargarDocumentos
2025-02-20 12:49:06 [INFO] utils.doc_utils: parse_pdf para Resumen_Miguel Mauriola.pdf
2025-02-20 12:49:06 [INFO] utils.doc_utils: chunk_text: 1686 caracteres, chunk_size=800
2025-02-20 12:49:06 [INFO] utils.doc_utils: chunk_text generó 3 trozos.
2025-02-20 12:49:07 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"indexes":[{"name":"amazon-products","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"amazon-products-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones","metric":"cosine","dimension":384,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking1-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"tracking1-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking-rag","metric":"cosine","dimension":128,"status":{"ready":true,"state":"Ready"},"host":"tracking-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones-openai","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-openai-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}]}'
2025-02-20 12:49:11 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":false,"state":"Initializing"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}'
2025-02-20 12:49:11 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":false,"state":"Initializing"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}'
2025-02-20 12:49:17 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}'
2025-02-20 12:49:17 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}'
2025-02-20 12:49:17 [INFO] utils.pinecone_utils: Creado índice 'doc-rag' en Pinecone.
2025-02-20 12:49:17 [INFO] pinecone_plugin_interface.logging: Discovering subpackages in _NamespacePath(['/Users/miguelmauriolamedina/Desktop/DocumentosRAG/Caso_Resumen_Lecturas/venv/lib/python3.11/site-packages/pinecone_plugins'])
2025-02-20 12:49:17 [INFO] pinecone_plugin_interface.logging: Looking for plugins in pinecone_plugins.inference
2025-02-20 12:49:17 [DEBUG] utils.embedding_utils: get_embedding_new con model=text-embedding-ada-002, len(text)=800
2025-02-20 12:49:17 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x115d04360>, 'json_data': {'input': 'Soy Miguel Mauriola, un apasionado por la innovación, la tecnología y el aprendizaje \nconstante. \n🎓 Formación y Estudios \nEstoy cursando una maestría en inteligencia artificial aplicada. \nEn inglés, estoy en un nivel intermedio, usando Pimsleur y practicando con resúmenes y \nrole-plays para mejorar mi fluidez y pronunciación. \n💼 Experiencia Profesional \nLidero el Departamento de Confiabilidad, I+D+i en Ferreyros. \nDirijo un equipo que incluye a los jefes de Confiabilidad, I+D+i, Laboratorio de Electrónica, \nLaboratorio de Fluidos y Mantenimiento Interno. También gestiono el desarrollo del sistema \nSMARTY \nHe trabajado en proyectos clave como: \n●\u200b Implementación de IoT en pruebas de motores para detectar fallas y mejorar la \nconfiabilidad. \n●\u200b Historial clínico de reparaciones usando IA par', 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-02-20 12:49:18 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/embeddings
2025-02-20 12:49:18 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:49:18 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114e3c510>
2025-02-20 12:49:18 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x115a85910> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:49:18 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115d2b050>
2025-02-20 12:49:18 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:49:18 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:49:18 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:49:18 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:49:18 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:49:18 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:49:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002-v2'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'37'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'via', b'envoy-router-6cf548bbf8-chsb7'), (b'x-envoy-upstream-service-time', b'28'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999794'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'12ms'), (b'x-request-id', b'req_f87036d8d674b08559a698d0c7ceb6e0'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hwB_E92ATXxAhbQ6TzH7cOh0siHmqmlJbuMzNvcWml8-1740073758-1.0.1.1-Mp52nj9ziKDOMjR_f8lUh1zp9PPDYEIEc2AyWWOrXZgPTG_lQsP6ppqVYfbaEgAshsQ3e2JuQB0Gl_gAsK5hag; path=/; expires=Thu, 20-Feb-25 18:19:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IZbCybJuCTbxTU7qE5WO5rP5RWu5SwN.iDJz179uUs0-1740073758882-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9150551d3f8db53c-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:49:18 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-20 12:49:18 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:49:18 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:49:18 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:49:18 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:49:18 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:49:18 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002-v2'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '37'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('via', 'envoy-router-6cf548bbf8-chsb7'), ('x-envoy-upstream-service-time', '28'), ('x-ratelimit-limit-requests', '3000'), ('x-ratelimit-limit-tokens', '1000000'), ('x-ratelimit-remaining-requests', '2999'), ('x-ratelimit-remaining-tokens', '999794'), ('x-ratelimit-reset-requests', '20ms'), ('x-ratelimit-reset-tokens', '12ms'), ('x-request-id', 'req_f87036d8d674b08559a698d0c7ceb6e0'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=hwB_E92ATXxAhbQ6TzH7cOh0siHmqmlJbuMzNvcWml8-1740073758-1.0.1.1-Mp52nj9ziKDOMjR_f8lUh1zp9PPDYEIEc2AyWWOrXZgPTG_lQsP6ppqVYfbaEgAshsQ3e2JuQB0Gl_gAsK5hag; path=/; expires=Thu, 20-Feb-25 18:19:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=IZbCybJuCTbxTU7qE5WO5rP5RWu5SwN.iDJz179uUs0-1740073758882-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9150551d3f8db53c-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:49:18 [DEBUG] openai._base_client: request_id: req_f87036d8d674b08559a698d0c7ceb6e0
2025-02-20 12:49:19 [DEBUG] utils.embedding_utils: get_embedding_new con model=text-embedding-ada-002, len(text)=800
2025-02-20 12:49:19 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x1161936a0>, 'json_data': {'input': 'a búsquedas rápidas y precisas. \n \n🚀 Proyectos Propios y Emprendimientos \nSoy fundador de YachayHub, una plataforma que conecta educación y tecnología: \n●\u200b Ofrezco cursos asequibles para universitarios, donde los instructores ganan el \n80%. \n●\u200b Desarrollo soluciones de IA para PYMEs, enfocándome en sistemas RAG \n(Retrieval-Augmented Generation). \n●\u200b Creo oportunidades para jóvenes egresados, conectándolos con expertos y \nayudándolos a aplicar sus conocimientos en proyectos reales. \n \n❤️ Vida Personal y Pasiones \nEstoy casado con María del Carmen, y tengo dos hijas (de 5 y 2 años). \nDisfruto pasar tiempo con mi familia, ir a misa con mi esposa, almorzar en restaurantes. \nMe encanta el ajedrez, especialmente las aperturas abiertas y los finales de peones. Mi \nfavorita es la apertura española', 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-02-20 12:49:19 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/embeddings
2025-02-20 12:49:19 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:49:19 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111019c90>
2025-02-20 12:49:19 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1160b68d0> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:49:19 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11611d1d0>
2025-02-20 12:49:19 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:49:19 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:49:19 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:49:19 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:49:19 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:49:20 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:49:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002-v2'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'65'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'via', b'envoy-router-6c6769b68d-wbwnm'), (b'x-envoy-upstream-service-time', b'44'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999793'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'12ms'), (b'x-request-id', b'req_baadb2384ca7887a2eaf4faeaa7bf997'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=5vweZe1u2GtabwxDswcXDdxzDi.SVWx9a.7U7jvuTK0-1740073760-1.0.1.1-h7qlIjyisx144OkR0FZ3yzWlH.h999EAfmpYxKPidZdPlm8zmZ1YfEuvNL5SY3OHetJpljBYmEP3Vj0Yj__vUA; path=/; expires=Thu, 20-Feb-25 18:19:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=hDYc3P.2EVQ5oKUshrVlEgwZBFrruG9y768fuxOfWx0-1740073760965-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91505524ac384ff5-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:49:20 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-20 12:49:20 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:49:20 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:49:20 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:49:20 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:49:20 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:49:20 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002-v2'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '65'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('via', 'envoy-router-6c6769b68d-wbwnm'), ('x-envoy-upstream-service-time', '44'), ('x-ratelimit-limit-requests', '3000'), ('x-ratelimit-limit-tokens', '1000000'), ('x-ratelimit-remaining-requests', '2999'), ('x-ratelimit-remaining-tokens', '999793'), ('x-ratelimit-reset-requests', '20ms'), ('x-ratelimit-reset-tokens', '12ms'), ('x-request-id', 'req_baadb2384ca7887a2eaf4faeaa7bf997'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=5vweZe1u2GtabwxDswcXDdxzDi.SVWx9a.7U7jvuTK0-1740073760-1.0.1.1-h7qlIjyisx144OkR0FZ3yzWlH.h999EAfmpYxKPidZdPlm8zmZ1YfEuvNL5SY3OHetJpljBYmEP3Vj0Yj__vUA; path=/; expires=Thu, 20-Feb-25 18:19:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=hDYc3P.2EVQ5oKUshrVlEgwZBFrruG9y768fuxOfWx0-1740073760965-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '91505524ac384ff5-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:49:20 [DEBUG] openai._base_client: request_id: req_baadb2384ca7887a2eaf4faeaa7bf997
2025-02-20 12:49:20 [DEBUG] utils.embedding_utils: get_embedding_new con model=text-embedding-ada-002, len(text)=83
2025-02-20 12:49:20 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x1161d5300>, 'json_data': {'input': '(Ruy López). \nTambién disfruto viajar, especialmente a destinos cálidos y de playa.', 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-02-20 12:49:20 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/embeddings
2025-02-20 12:49:20 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:49:20 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1161b42d0>
2025-02-20 12:49:20 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x115a85c70> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:49:20 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115fb9c50>
2025-02-20 12:49:20 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:49:20 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:49:20 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:49:20 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:49:20 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:49:21 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:49:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002-v2'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'96'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'via', b'envoy-router-d96d8f947-dvcnk'), (b'x-envoy-upstream-service-time', b'61'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999978'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_3edefc8fdc571296690df0a6816e1676'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=H4QY9Dbz8CxEcvO72gUCgZGsP5NMPcIlZq4.zN85zT8-1740073762-1.0.1.1-ABmWoaPmY2tnfnhOgGgXMv25ptdQLs2qbD9Xd3znjSGwg7HcMsgMox_g2F6N.pBwNVzfCB6H3KCyn1qs3qyBbA; path=/; expires=Thu, 20-Feb-25 18:19:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=_CuI9VB9XXVtMQ0mWPqVUZ1sxSs3ofROMq2dWkO.q_k-1740073762015-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9150552e7869b53e-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:49:21 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-20 12:49:21 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:49:21 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:49:21 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:49:21 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:49:21 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:49:22 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002-v2'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '96'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('via', 'envoy-router-d96d8f947-dvcnk'), ('x-envoy-upstream-service-time', '61'), ('x-ratelimit-limit-requests', '3000'), ('x-ratelimit-limit-tokens', '1000000'), ('x-ratelimit-remaining-requests', '2999'), ('x-ratelimit-remaining-tokens', '999978'), ('x-ratelimit-reset-requests', '20ms'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_3edefc8fdc571296690df0a6816e1676'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=H4QY9Dbz8CxEcvO72gUCgZGsP5NMPcIlZq4.zN85zT8-1740073762-1.0.1.1-ABmWoaPmY2tnfnhOgGgXMv25ptdQLs2qbD9Xd3znjSGwg7HcMsgMox_g2F6N.pBwNVzfCB6H3KCyn1qs3qyBbA; path=/; expires=Thu, 20-Feb-25 18:19:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=_CuI9VB9XXVtMQ0mWPqVUZ1sxSs3ofROMq2dWkO.q_k-1740073762015-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9150552e7869b53e-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:49:21 [DEBUG] openai._base_client: request_id: req_3edefc8fdc571296690df0a6816e1676
2025-02-20 12:49:23 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"upsertedCount":3}'
2025-02-20 12:49:23 [DEBUG] utils.pinecone_utils: Upsert 3 trozos.
2025-02-20 12:49:23 [INFO] __main__: Indexados 3 trozos en Pinecone.
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.started
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.started
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.started
2025-02-20 12:49:23 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:51:05 [INFO] __main__: Entrando a Chat con Historial
2025-02-20 12:51:40 [INFO] __main__: Entrando a Chat con Historial
2025-02-20 12:51:41 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"indexes":[{"name":"amazon-products","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"amazon-products-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones","metric":"cosine","dimension":384,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking1-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"tracking1-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking-rag","metric":"cosine","dimension":128,"status":{"ready":true,"state":"Ready"},"host":"tracking-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones-openai","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-openai-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}]}'
2025-02-20 12:51:41 [INFO] utils.pinecone_utils: Usando índice 'doc-rag'.
2025-02-20 12:51:41 [INFO] pinecone_plugin_interface.logging: Discovering subpackages in _NamespacePath(['/Users/miguelmauriolamedina/Desktop/DocumentosRAG/Caso_Resumen_Lecturas/venv/lib/python3.11/site-packages/pinecone_plugins'])
2025-02-20 12:51:41 [INFO] pinecone_plugin_interface.logging: Looking for plugins in pinecone_plugins.inference
2025-02-20 12:51:41 [DEBUG] utils.embedding_utils: get_embedding_new con model=text-embedding-ada-002, len(text)=21
2025-02-20 12:51:41 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x115aeef20>, 'json_data': {'input': 'que dice el documento', 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-02-20 12:51:41 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/embeddings
2025-02-20 12:51:41 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:51:41 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115d5b390>
2025-02-20 12:51:41 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x115a85910> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:51:42 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1160fcd10>
2025-02-20 12:51:42 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:51:42 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:51:42 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:51:42 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:51:42 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:51:42 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:51:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002-v2'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'72'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'via', b'envoy-router-6c6769b68d-pbcs8'), (b'x-envoy-upstream-service-time', b'42'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999994'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_e21933a5d355fe1a72e83565847b0180'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=q.J629RyiwHEy_aAtvGIux.KgL1HoRhHZ6rCvrBjTdg-1740073902-1.0.1.1-rZIutZbDVZL2t5WudrJfOyZMDM7DOQzQDmzfC1lhGxfCAPTYm6Jn93krPBUsLFXxyoWDmbl0yHD1t_AIE8VpWg; path=/; expires=Thu, 20-Feb-25 18:21:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=C8zAqVEH3nwHk01tU3BK4Kbkq4RbiRUI8O2C5XdcudY-1740073902490-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915058a09bd95001-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:51:42 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-20 12:51:42 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:51:42 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:51:42 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:51:42 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:51:42 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:51:42 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002-v2'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '72'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('via', 'envoy-router-6c6769b68d-pbcs8'), ('x-envoy-upstream-service-time', '42'), ('x-ratelimit-limit-requests', '3000'), ('x-ratelimit-limit-tokens', '1000000'), ('x-ratelimit-remaining-requests', '2999'), ('x-ratelimit-remaining-tokens', '999994'), ('x-ratelimit-reset-requests', '20ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_e21933a5d355fe1a72e83565847b0180'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=q.J629RyiwHEy_aAtvGIux.KgL1HoRhHZ6rCvrBjTdg-1740073902-1.0.1.1-rZIutZbDVZL2t5WudrJfOyZMDM7DOQzQDmzfC1lhGxfCAPTYm6Jn93krPBUsLFXxyoWDmbl0yHD1t_AIE8VpWg; path=/; expires=Thu, 20-Feb-25 18:21:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=C8zAqVEH3nwHk01tU3BK4Kbkq4RbiRUI8O2C5XdcudY-1740073902490-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '915058a09bd95001-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:51:42 [DEBUG] openai._base_client: request_id: req_e21933a5d355fe1a72e83565847b0180
2025-02-20 12:51:43 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"results":[],"matches":[{"id":"5c757972-410f-4bcf-90f6-171382ebc714","score":0.770123124,"values":[],"metadata":{"TEXT":"Soy Miguel Mauriola, un apasionado por la innovaci\xc3\xb3n, la tecnolog\xc3\xada y el aprendizaje \\nconstante. \\n\xf0\x9f\x8e\x93 Formaci\xc3\xb3n y Estudios \\nEstoy cursando una maestr\xc3\xada en inteligencia artificial aplicada. \\nEn ingl\xc3\xa9s, estoy en un nivel intermedio, usando Pimsleur y practicando con res\xc3\xbamenes y \\nrole-plays para mejorar mi fluidez y pronunciaci\xc3\xb3n. \\n\xf0\x9f\x92\xbc Experiencia Profesional \\nLidero el Departamento de Confiabilidad, I+D+i en Ferreyros. \\nDirijo un equipo que incluye a los jefes de Confiabilidad, I+D+i, Laboratorio de Electr\xc3\xb3nica, \\nLaboratorio de Fluidos y Mantenimiento Interno. Tambi\xc3\xa9n gestiono el desarrollo del sistema \\nSMARTY \\nHe trabajado en proyectos clave como: \\n\xe2\x97\x8f\\u200b Implementaci\xc3\xb3n de IoT en pruebas de motores para detectar fallas y mejorar la \\nconfiabilidad. \\n\xe2\x97\x8f\\u200b Historial cl\xc3\xadnico de reparaciones usando IA par"}},{"id":"539ca043-77b4-434b-b679-14c2276f5102","score":0.769711554,"values":[],"metadata":{"TEXT":"a b\xc3\xbasquedas r\xc3\xa1pidas y precisas. \\n \\n\xf0\x9f\x9a\x80 Proyectos Propios y Emprendimientos \\nSoy fundador de YachayHub, una plataforma que conecta educaci\xc3\xb3n y tecnolog\xc3\xada: \\n\xe2\x97\x8f\\u200b Ofrezco cursos asequibles para universitarios, donde los instructores ganan el \\n80%. \\n\xe2\x97\x8f\\u200b Desarrollo soluciones de IA para PYMEs, enfoc\xc3\xa1ndome en sistemas RAG \\n(Retrieval-Augmented Generation). \\n\xe2\x97\x8f\\u200b Creo oportunidades para j\xc3\xb3venes egresados, conect\xc3\xa1ndolos con expertos y \\nayud\xc3\xa1ndolos a aplicar sus conocimientos en proyectos reales. \\n \\n\xe2\x9d\xa4\xef\xb8\x8f Vida Personal y Pasiones \\nEstoy casado con Mar\xc3\xada del Carmen, y tengo dos hijas (de 5 y 2 a\xc3\xb1os). \\nDisfruto pasar tiempo con mi familia, ir a misa con mi esposa, almorzar en restaurantes. \\nMe encanta el ajedrez, especialmente las aperturas abiertas y los finales de peones. Mi \\nfavorita es la apertura espa\xc3\xb1ola"}},{"id":"3ed0b852-3a02-4a69-98d7-b9dc11c49403","score":0.766996384,"values":[],"metadata":{"TEXT":"(Ruy L\xc3\xb3pez). \\nTambi\xc3\xa9n disfruto viajar, especialmente a destinos c\xc3\xa1lidos y de playa."}}],"namespace":"","usage":{"readUnits":6}}'
2025-02-20 12:51:43 [DEBUG] utils.pinecone_utils: search_docs => 3 docs.
2025-02-20 12:51:43 [INFO] __main__: Encontrados 3 docs para la query.
2025-02-20 12:51:43 [DEBUG] utils.embedding_utils: generate_chat_response con 3 contextos, query=que dice el documento...
2025-02-20 12:51:43 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Eres un asistente sobre documentos subidos.'}, {'role': 'user', 'content': 'Basado en este texto:\nSoy Miguel Mauriola, un apasionado por la innovación, la tecnología y el aprendizaje \nconstante. \n🎓 Formación y Estudios \nEstoy cursando una maestría en inteligencia artificial aplicada. \nEn inglés, estoy en un nivel intermedio, usando Pimsleur y practicando con resúmenes y \nrole-plays para mejorar mi fluidez y pronunciación. \n💼 Experiencia Profesional \nLidero el Departamento de Confiabilidad, I+D+i en Ferreyros. \nDirijo un equipo que incluye a los jefes de Confiabilidad, I+D+i, Laboratorio de Electrónica, \nLaboratorio de Fluidos y Mantenimiento Interno. También gestiono el desarrollo del sistema \nSMARTY \nHe trabajado en proyectos clave como: \n●\u200b Implementación de IoT en pruebas de motores para detectar fallas y mejorar la \nconfiabilidad. \n●\u200b Historial clínico de reparaciones usando IA par\n\n---\n\na búsquedas rápidas y precisas. \n \n🚀 Proyectos Propios y Emprendimientos \nSoy fundador de YachayHub, una plataforma que conecta educación y tecnología: \n●\u200b Ofrezco cursos asequibles para universitarios, donde los instructores ganan el \n80%. \n●\u200b Desarrollo soluciones de IA para PYMEs, enfocándome en sistemas RAG \n(Retrieval-Augmented Generation). \n●\u200b Creo oportunidades para jóvenes egresados, conectándolos con expertos y \nayudándolos a aplicar sus conocimientos en proyectos reales. \n \n❤️ Vida Personal y Pasiones \nEstoy casado con María del Carmen, y tengo dos hijas (de 5 y 2 años). \nDisfruto pasar tiempo con mi familia, ir a misa con mi esposa, almorzar en restaurantes. \nMe encanta el ajedrez, especialmente las aperturas abiertas y los finales de peones. Mi \nfavorita es la apertura española\n\n---\n\n(Ruy López). \nTambién disfruto viajar, especialmente a destinos cálidos y de playa.\n\nPregunta: que dice el documento\nSi no hay info, di: "No encuentro esa información."\n    '}], 'model': 'gpt-3.5-turbo', 'max_tokens': 300, 'temperature': 0.2}}
2025-02-20 12:51:43 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-02-20 12:51:43 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:51:43 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1161ba0d0>
2025-02-20 12:51:43 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1160b7260> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:51:43 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1161b9e90>
2025-02-20 12:51:43 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:51:43 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:51:43 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:51:43 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:51:43 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:51:43 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:51:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'595'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199220'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'234ms'), (b'x-request-id', b'req_335fcd4ac4959d11b084b4959713dd51'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=himbQYWv.9Ko4fmraUI0l2Vvbam54lu.GdH.Yb.B8t0-1740073904-1.0.1.1-LhlXfGa516E6TKj6X_yLcEtDk3BRLxkozfdWK3NAldPWozlzXSHOl4jQQuHh0tsmoJBYIIRIjLbI2r2CkC5UvQ; path=/; expires=Thu, 20-Feb-25 18:21:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IgV5ih16xvClfc9BVXi9KJ2QdU6I1jjQ2d6mFKbTHsc-1740073904075-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915058a7cfa84ffa-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:51:43 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-20 12:51:43 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:51:43 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:51:43 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:51:43 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:51:43 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:51:44 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '595'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '199220'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '234ms'), ('x-request-id', 'req_335fcd4ac4959d11b084b4959713dd51'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=himbQYWv.9Ko4fmraUI0l2Vvbam54lu.GdH.Yb.B8t0-1740073904-1.0.1.1-LhlXfGa516E6TKj6X_yLcEtDk3BRLxkozfdWK3NAldPWozlzXSHOl4jQQuHh0tsmoJBYIIRIjLbI2r2CkC5UvQ; path=/; expires=Thu, 20-Feb-25 18:21:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=IgV5ih16xvClfc9BVXi9KJ2QdU6I1jjQ2d6mFKbTHsc-1740073904075-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '915058a7cfa84ffa-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:51:43 [DEBUG] openai._base_client: request_id: req_335fcd4ac4959d11b084b4959713dd51
2025-02-20 12:51:43 [INFO] utils.embedding_utils: generate_chat_response ok
2025-02-20 12:51:44 [DEBUG] httpcore.connection: close.started
2025-02-20 12:51:44 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:51:44 [DEBUG] httpcore.connection: close.started
2025-02-20 12:51:44 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:53:33 [INFO] __main__: Entrando a Ejemplos
2025-02-20 12:53:47 [INFO] __main__: Entrando a SumarioGlobal
2025-02-20 12:53:48 [INFO] __main__: Entrando a SumarioGlobal
2025-02-20 12:53:49 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"indexes":[{"name":"amazon-products","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"amazon-products-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones","metric":"cosine","dimension":384,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking1-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"tracking1-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"doc-rag","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"doc-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"tracking-rag","metric":"cosine","dimension":128,"status":{"ready":true,"state":"Ready"},"host":"tracking-rag-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"},{"name":"rag-reparaciones-openai","metric":"cosine","dimension":1536,"status":{"ready":true,"state":"Ready"},"host":"rag-reparaciones-openai-jhgm1dj.svc.aped-4627-b74a.pinecone.io","spec":{"serverless":{"region":"us-east-1","cloud":"aws"}},"deletion_protection":"disabled"}]}'
2025-02-20 12:53:49 [INFO] utils.pinecone_utils: Usando índice 'doc-rag'.
2025-02-20 12:53:49 [INFO] pinecone_plugin_interface.logging: Discovering subpackages in _NamespacePath(['/Users/miguelmauriolamedina/Desktop/DocumentosRAG/Caso_Resumen_Lecturas/venv/lib/python3.11/site-packages/pinecone_plugins'])
2025-02-20 12:53:49 [INFO] pinecone_plugin_interface.logging: Looking for plugins in pinecone_plugins.inference
2025-02-20 12:53:49 [DEBUG] pinecone.core.openapi.shared.rest: response body: b'{"results":[],"matches":[{"id":"5c757972-410f-4bcf-90f6-171382ebc714","score":0,"values":[],"metadata":{"TEXT":"Soy Miguel Mauriola, un apasionado por la innovaci\xc3\xb3n, la tecnolog\xc3\xada y el aprendizaje \\nconstante. \\n\xf0\x9f\x8e\x93 Formaci\xc3\xb3n y Estudios \\nEstoy cursando una maestr\xc3\xada en inteligencia artificial aplicada. \\nEn ingl\xc3\xa9s, estoy en un nivel intermedio, usando Pimsleur y practicando con res\xc3\xbamenes y \\nrole-plays para mejorar mi fluidez y pronunciaci\xc3\xb3n. \\n\xf0\x9f\x92\xbc Experiencia Profesional \\nLidero el Departamento de Confiabilidad, I+D+i en Ferreyros. \\nDirijo un equipo que incluye a los jefes de Confiabilidad, I+D+i, Laboratorio de Electr\xc3\xb3nica, \\nLaboratorio de Fluidos y Mantenimiento Interno. Tambi\xc3\xa9n gestiono el desarrollo del sistema \\nSMARTY \\nHe trabajado en proyectos clave como: \\n\xe2\x97\x8f\\u200b Implementaci\xc3\xb3n de IoT en pruebas de motores para detectar fallas y mejorar la \\nconfiabilidad. \\n\xe2\x97\x8f\\u200b Historial cl\xc3\xadnico de reparaciones usando IA par"}},{"id":"3ed0b852-3a02-4a69-98d7-b9dc11c49403","score":0,"values":[],"metadata":{"TEXT":"(Ruy L\xc3\xb3pez). \\nTambi\xc3\xa9n disfruto viajar, especialmente a destinos c\xc3\xa1lidos y de playa."}},{"id":"539ca043-77b4-434b-b679-14c2276f5102","score":0,"values":[],"metadata":{"TEXT":"a b\xc3\xbasquedas r\xc3\xa1pidas y precisas. \\n \\n\xf0\x9f\x9a\x80 Proyectos Propios y Emprendimientos \\nSoy fundador de YachayHub, una plataforma que conecta educaci\xc3\xb3n y tecnolog\xc3\xada: \\n\xe2\x97\x8f\\u200b Ofrezco cursos asequibles para universitarios, donde los instructores ganan el \\n80%. \\n\xe2\x97\x8f\\u200b Desarrollo soluciones de IA para PYMEs, enfoc\xc3\xa1ndome en sistemas RAG \\n(Retrieval-Augmented Generation). \\n\xe2\x97\x8f\\u200b Creo oportunidades para j\xc3\xb3venes egresados, conect\xc3\xa1ndolos con expertos y \\nayud\xc3\xa1ndolos a aplicar sus conocimientos en proyectos reales. \\n \\n\xe2\x9d\xa4\xef\xb8\x8f Vida Personal y Pasiones \\nEstoy casado con Mar\xc3\xada del Carmen, y tengo dos hijas (de 5 y 2 a\xc3\xb1os). \\nDisfruto pasar tiempo con mi familia, ir a misa con mi esposa, almorzar en restaurantes. \\nMe encanta el ajedrez, especialmente las aperturas abiertas y los finales de peones. Mi \\nfavorita es la apertura espa\xc3\xb1ola"}}],"namespace":"","usage":{"readUnits":6}}'
2025-02-20 12:53:49 [INFO] utils.pinecone_utils: get_all_docs => 3 trozos totales.
2025-02-20 12:53:49 [INFO] utils.summarizer: summarize_global_docs con 3 docs.
2025-02-20 12:53:49 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Eres un asistente que hace sumarios de documentos.'}, {'role': 'user', 'content': "Genera un sumario global de estos textos:\n\nSoy Miguel Mauriola, un apasionado por la innovación, la tecnología y el aprendizaje \nconstante. \n🎓 Formación y Estudios \nEstoy cursando una maestría en inteligencia artificial aplicada. \nEn inglés, estoy en un nivel intermedio, usando Pimsleur y practicando con resúmenes y \nrole-plays para mejorar mi fluidez y pronunciación. \n💼 Experiencia Profesional \nLidero el Departamento de Confiabilidad, I+D+i en Ferreyros. \nDirijo un equipo que incluye a los jefes de Confiabilidad, I+D+i, Laboratorio de Electrónica, \nLaboratorio de Fluidos y Mantenimiento Interno. También gestiono el desarrollo del sistema \nSMARTY \nHe trabajado en proyectos clave como: \n●\u200b Implementación de IoT en pruebas de motores para detectar fallas y mejorar la \nconfiabilidad. \n●\u200b Historial clínico de reparaciones usando IA par\n\n(Ruy López). \nTambién disfruto viajar, especialmente a destinos cálidos y de playa.\n\na búsquedas rápidas y precisas. \n \n🚀 Proyectos Propios y Emprendimientos \nSoy fundador de YachayHub, una plataforma que conecta educación y tecnología: \n●\u200b Ofrezco cursos asequibles para universitarios, donde los instructores ganan el \n80%. \n●\u200b Desarrollo soluciones de IA para PYMEs, enfocándome en sistemas RAG \n(Retrieval-Augmented Generation). \n●\u200b Creo oportunidades para jóvenes egresados, conectándolos con expertos y \nayudándolos a aplicar sus conocimientos en proyectos reales. \n \n❤️ Vida Personal y Pasiones \nEstoy casado con María del Carmen, y tengo dos hijas (de 5 y 2 años). \nDisfruto pasar tiempo con mi familia, ir a misa con mi esposa, almorzar en restaurantes. \nMe encanta el ajedrez, especialmente las aperturas abiertas y los finales de peones. Mi \nfavorita es la apertura española\n\nEnfatiza los puntos clave y sé conciso.\nSi no hay info, di: 'No encuentro información.'\n"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.3}}
2025-02-20 12:53:49 [DEBUG] openai._base_client: Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-02-20 12:53:49 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-02-20 12:53:49 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115af3490>
2025-02-20 12:53:49 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1160b6960> server_hostname='api.openai.com' timeout=5.0
2025-02-20 12:53:49 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115af3cd0>
2025-02-20 12:53:49 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-02-20 12:53:49 [DEBUG] httpcore.http11: send_request_headers.complete
2025-02-20 12:53:49 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-02-20 12:53:49 [DEBUG] httpcore.http11: send_request_body.complete
2025-02-20 12:53:49 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-02-20 12:53:51 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 17:53:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-oifypjqzaacdazd6dcuylq8u'), (b'openai-processing-ms', b'1142'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199015'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'295ms'), (b'x-request-id', b'req_1aa660cb0334fcfcb2f4d458604100a0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CYYxmM5kC7v9WPwdq1F2HdXOS3mmJ.Iee453bvMgrjE-1740074031-1.0.1.1-hnKfpWMV.pjU6PMJO7REwflM3ANAqAmaBEnkw8sni9pR7oUrysgsnpasnw3mOUwvWdanCUz6ApdvgIGzU1VV5A; path=/; expires=Thu, 20-Feb-25 18:23:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=c16PeKmu7V1ZiJByP4iyoS0Bb4HMNj30oDkU9nvBAZk-1740074031465-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91505bbf19c9cdc9-LIM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-02-20 12:53:51 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-20 12:53:51 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-02-20 12:53:51 [DEBUG] httpcore.http11: receive_response_body.complete
2025-02-20 12:53:51 [DEBUG] httpcore.http11: response_closed.started
2025-02-20 12:53:51 [DEBUG] httpcore.http11: response_closed.complete
2025-02-20 12:53:51 [DEBUG] openai._base_client: HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 20 Feb 2025 17:53:51 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-oifypjqzaacdazd6dcuylq8u'), ('openai-processing-ms', '1142'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '199015'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '295ms'), ('x-request-id', 'req_1aa660cb0334fcfcb2f4d458604100a0'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=CYYxmM5kC7v9WPwdq1F2HdXOS3mmJ.Iee453bvMgrjE-1740074031-1.0.1.1-hnKfpWMV.pjU6PMJO7REwflM3ANAqAmaBEnkw8sni9pR7oUrysgsnpasnw3mOUwvWdanCUz6ApdvgIGzU1VV5A; path=/; expires=Thu, 20-Feb-25 18:23:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=c16PeKmu7V1ZiJByP4iyoS0Bb4HMNj30oDkU9nvBAZk-1740074031465-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '91505bbf19c9cdc9-LIM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-02-20 12:53:51 [DEBUG] openai._base_client: request_id: req_1aa660cb0334fcfcb2f4d458604100a0
2025-02-20 12:53:51 [DEBUG] utils.summarizer: sumarize_global_docs completado
2025-02-20 12:53:51 [DEBUG] httpcore.connection: close.started
2025-02-20 12:53:51 [DEBUG] httpcore.connection: close.complete
2025-02-20 12:53:59 [INFO] __main__: Entrando a CargarDocumentos
2025-02-20 12:54:01 [INFO] __main__: Entrando a Chat con Historial
2025-02-20 12:58:12 [INFO] __main__: Entrando a CargarDocumentos
2025-02-20 12:58:14 [INFO] __main__: Entrando a Chat con Historial
2025-02-20 12:58:17 [INFO] __main__: Entrando a Home
